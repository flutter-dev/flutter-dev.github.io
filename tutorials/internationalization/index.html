<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Internationalizing Flutter Apps  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <meta name="description" content="">
  <meta name="keywords" content=" ">

  <link rel="stylesheet" href="/css/lavish-bootstrap.css">
  <link rel="stylesheet" href="/css/main.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Extended" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro%7CRoboto:500,400italic,300,400" rel="stylesheet">
  
  <link rel="canonical" href="http://localhost:4000/tutorials/internationalization/">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
</head>


  <body class="">

    <div id="overlay-under-drawer"><!-- for the drawer on narrow screens --></div>

    <header class="site-header">
  <div class="container-fluid header-contents">
    <div class="row">
      <div class="col-md-12">
        <i class="fa fa-bars" id="sidebar-toggle-button" aria-hidden="true" style="display:none"></i>
        <img src="/images/flutter-mark-square-100.png" alt="Flutter Logo" width="40" height="40" style="vertical-align:middle">

        <a class="site-title" href="/">Flutter</a>

        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <i class="material-icons-extended">more_vert</i>
          </a>
          <div class="trigger">
            <a class="page-link" href="/docs/">文档</a>
            <a class="page-link" href="https://github.com/flutter/flutter">GitHub</a>
            <a class="page-link" href="https://pub.dartlang.org/flutter">库</a>
            <a class="page-link" href="/support/">支持</a>
            <a class="page-link" href="http://flutter-dev.cn">论坛</a>
            <form action="/search/" class="nav-searchbox" id="cse-search-box" style="display: inline">
              <input type="hidden" name="cx" value="007067728241810524621:gm6vraqlc8c">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="hidden" name="hl" value="en">
              <input type="search" name="q" id="q" autocomplete="off" placeholder="搜索">
            </form>
          </div>
        </nav>
      </div>
    </div> <!-- /.row -->
  </div> <!-- /.container -->
</header>


    <!-- Page Content -->
    <div class="container-fluid contents">
      <!-- Content Row -->
      <div class="row">

        <!-- Sidebar Column -->
        <div id="side-nav-container" class="col-sm-3">
          <ul id="mysidebar" class="nav">

  <li class="sidebar-title">入门</li>

    <ul class="sidebar-items">
      <li><a href="/get-started/install/">1: 安装</a></li>
      <li><a href="/get-started/editor/">2: 配置编辑器</a></li>
      <li><a href="/get-started/test-drive/">3: Flutter 初体验</a></li>
      <li><a href="/get-started/codelab/">4: 编写第一个 Flutter 应用</a></li>
      <li><a href="/get-started/learn-more/">5: 学习更多</a></li>
    </ul>

  <li class="sidebar-title">构建 UI</li>

    <ul class="sidebar-items">
      <li><a href="/widgets-intro/">框架预览</a></li>
      <li><a href="/widgets/">Widget 目录</a></li>
      <li><a href="/cookbook/">小案例</a></li>
      <li><a href="/catalog/samples/">示例目录</a></li>
      <li><a href="https://codelabs.developers.google.com/codelabs/flutter/index.html#0">构建漂亮的用户界面 - Codelab</a></li>
      <li><a href="/tutorials/layout/">构建布局 - 教程</a></li>
      <li><a href="/tutorials/interactive/">添加交互 - 教程</a></li>
      <li><a href="/web-analogs/">HTML/CSS 模式</a></li>
      <li><a href="/flutter-for-android/">Android 开发者参考</a></li>
      <li><a href="/flutter-for-react-native/">React Native 开发者参考</a></li>
      <li><a href="/gestures/">手势</a></li>
      <li><a href="/animations/">动画</a></li>
      <li><a href="/custom-fonts/">自定义字体</a></li>
      <li><a href="/layout/">框约束</a></li>
      <li><a href="/assets-and-images/">资源与图像</a></li>
      <li><a href="/text-input/">文本输入</a></li>
      <li><a href="/routing-and-navigation/">界面路由与导航</a></li>
      <li><a href="/tutorials/internationalization">国际化</a></li>
    </ul>

  <li class="sidebar-title">使用设备与 SDK 中的 API</li>

    <ul class="sidebar-items">
      <li><a href="/using-packages/">使用扩展包</a></li>
      <li><a href="/developing-packages/">开发扩展包</a></li>
      <li><a href="/platform-channels/">平台特定代码</a></li>
      <li><a href="/reading-writing-files/">文件的读写</a></li>
      <li><a href="/networking/">网络和 HTTP</a></li>
      <li><a href="/json/">JSON 和序列化</a></li>
      
    </ul>

  <li class="sidebar-title">开发与工具</li>

    <ul class="sidebar-items">
      <li><a href="/using-ide/">Flutter IDE 的使用</a></li>
      <li><a href="/hot-reload/">热重载的使用</a></li>
      <li><a href="/testing/">应用测试</a></li>
      <li><a href="/debugging/">应用调试</a></li>
      <li><a href="/inspector/">用户界面检查</a></li>
      <li><a href="/android-release/">编译正式版的 Android 应用</a></li>
      <li><a href="/ios-release/">编译正式版的 iOS 应用</a></li>
      <li><a href="/upgrading/">升级 Flutter</a></li>
      <li><a href="/formatting/"> 格式化代码</a></li>
    </ul>

  <li class="sidebar-title">更多细节</li>

    <ul class="sidebar-items">
      <li><a href="/faq/">FAQ</a></li>
      <li><a href="/technical-overview">技术一览</a></li>
      <li><a href="https://docs.google.com/presentation/d/1B3p0kP6NV_XMOimRV09Ms75ymIjU5gr6GGIX74Om_DE/edit?usp=sharing">神奇的 Flutter - 幻灯片</a></li>
      <li><a href="https://docs.google.com/presentation/d/1cw7A4HbvM_Abv320rVgPVGiUP2msVs7tfGbkgdrTy0I/edit?usp=sharing">架构图</a></li>
      <li><a href="https://www.bilibili.com/video/av14430321/">Flutter 框架层设计 <i class="fa fa-video-camera" aria-hidden="true"></i></a></li>
      <li><a href="https://www.bilibili.com/video/av6269773/">Flutter 的渲染管线 <i class="fa fa-video-camera" aria-hidden="true"></i></a></li>
    </ul>

</ul>

        </div>

        
        

        <!-- Content Column -->
        <div class="col-sm-9 main-contents">
          <div class="main-contents-body">
            <article class="post-content">
  
  
  <header class="post-header">
      <div class="btn-group contribute" role="group">
         <a href="https://github.com/flutter/website/blob/master/tutorials/international/index.md" class="btn btn-sm">
            <i class="fa fa-pencil"></i> Edit Source
         </a>
         <a href="https://github.com/flutter/flutter/issues/new?title=Issue from website page Internationalizing Flutter Apps&body=From URL: http://localhost:4000/tutorials/internationalization/&labels=dev: docs - website" class="btn btn-sm">
            <i class="fa fa-github"></i> File Issue
        </a>
     </div>
   <div>
    <h1 class="post-title">Internationalizing Flutter Apps </h1>
   </div>

  </header>
  

  

<div class="whats-the-point">

  <p><b> <a id="whats-the-point" class="anchor" href="#whats-the-point" aria-hidden="true"><span class="octicon octicon-link"></span></a>What you’ll learn:</b></p>

  <ul>
    <li>How to track the device’s locale (the user’s preferred language).</li>
    <li>How to manage locale-specific app values.</li>
    <li>How define the locales an app supports.</li>
  </ul>

</div>

<p>If your app might be deployed to users who speak another language then
you’ll need to “internationalize” it. That means you’ll need to write
the app in a way that makes it possible to “localize” values like text
and layouts for each language or “locale” that the app
supports. Flutter provides widgets and classes that help with
internationalization and the Flutter libraries themselves are
internationalized.</p>

<p>The tutorial that follows is largely written in terms of the Flutter
MaterialApp class, since most applications are written that way.
Applications written in terms of the lower level WidgetsApp class
can also be internationalized using the same classes and logic.</p>

<h3 id="contents">Contents</h3>

<ul>
  <li><a href="#setting-up">Setting up an internationalized app: the flutter_localizations package</a></li>
  <li><a href="#tracking-locale">Tracking the locale: The Locale class and the Localizations widget</a></li>
  <li><a href="#loading-and-retrieving">Loading and retrieving localized values</a></li>
  <li><a href="#using-bundles">Using the bundled LocalizationsDelegates</a></li>
  <li><a href="#defining-class">Defining a class for the app’s localized resources</a></li>
  <li><a href="#specifying-supportedlocales">Specifying the app’s supportedLocales parameter</a></li>
  <li><a href="#alternative-class">An alternative class for the app’s localized resources</a></li>
  <li><a href="#dart-tools">Appendix: Using the Dart intl tools</a></li>
</ul>

<aside class="alert alert-info">
  <p><strong>Sample internationalized apps</strong><br /></p>

  <p>If you’d like to start out by reading the code for an internationalized
Flutter app, here are two small examples. The first one is intended to
be as simple as possible, and the second one uses the APIs and tools
provided by the <a href="https://pub.dartlang.org/packages/intl">intl</a> package.
If Dart’s intl package is new to you, see <a href="#dart-tools">Using the Dart intl tools.</a></p>

  <ul>
    <li><a href="https://github.com/flutter/website/tree/master/_includes/code/internationalization/minimal/">Minimal internationalization</a></li>
    <li><a href="https://github.com/flutter/website/tree/master/_includes/code/internationalization/intl/">Internationaliation based on the <code class="highlighter-rouge">intl</code> package</a></li>
  </ul>
</aside>

<p><a name="setting-up"></a></p>
<h2 id="setting-up-an-internationalized-app-the-flutter_localizations-package">Setting up an internationalized app: the flutter_localizations package</h2>

<p>By default Flutter only provides US English localizations. To add
support for other languages, an application must specify additional
MaterialApp properties, and include a separate package called
<code class="highlighter-rouge">flutter_localizations</code>.  As of May 2018, this package supports 24
languages.</p>

<p>To use flutter_localizations, add the package as a dependency to your
<code class="highlighter-rouge">pubspec.yaml</code> file:</p>

<pre class="prettyprint highlighter-rouge highlight lang-yaml language-yaml"><code>dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter</code></pre>

<p>Next, import the flutter_localizations library and specify
<code class="highlighter-rouge">localizationsDelegates</code> and <code class="highlighter-rouge">supportedLocales</code> for MaterialApp:</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>import &#39;package:flutter_localizations/flutter_localizations.dart&#39;;

new MaterialApp(
 localizationsDelegates: [
   // ... app-specific localization delegate[s] here
   GlobalMaterialLocalizations.delegate,
   GlobalWidgetsLocalizations.delegate,
 ],
 supportedLocales: [
    const Locale(&#39;en&#39;, &#39;US&#39;), // English
    const Locale(&#39;he&#39;, &#39;IL&#39;), // Hebrew
    // ... other locales the app supports
  ],
  // ...
)</code></pre>

<p>Apps based on WidgetsApp are similar except that the
<code class="highlighter-rouge">GlobalMaterialLocalizations.delegate</code> isn’t needed.</p>

<p>The elements of the <code class="highlighter-rouge">localizationsDelegates</code> list are factories that produce
collections of localized values. <code class="highlighter-rouge">GlobalMaterialLocalizations.delegate</code>
provides localized strings and other values for the Material Components
library. <code class="highlighter-rouge">GlobalWidgetsLocalizations.delegate</code> defines the default
text direction, either left to right or right to left, for the widgets
library.</p>

<p>More information about these app properties, the types they
depend on, and how internationalized Flutter apps are typically
structured, can be found below.</p>

<p><a name="tracking-locale"></a></p>
<h2 id="tracking-the-locale-the-locale-class-and-the-localizations-widget">Tracking the locale: The Locale class and the Localizations widget</h2>

<p>The <a href="https://docs.flutter.io/flutter/dart-ui/Locale-class.html"><code class="highlighter-rouge">Locale</code></a>
class is used to identify the user’s language. Mobile devices support
setting the locale for all applications, usually via a system settings
menu. Internationalized apps respond by displaying values that are
locale-specific. For example, if the user switches the device’s locale
from English to French then a Text widget that displayed “Hello World”
would be rebuilt with “Bonjour le monde”.</p>

<p>The
<a href="https://docs.flutter.io/flutter/widgets/Localizations-class.html"><code class="highlighter-rouge">Localizations</code></a>
widget defines the locale for its child and the localized resources
that the child depends on. The
<a href="https://docs.flutter.io/flutter/widgets/WidgetsApp-class.html">WidgetsApp</a>
widget creates a Localizations widget and rebuilds it if the system’s locale changes.</p>

<p>You can always lookup an app’s current locale with <code class="highlighter-rouge">Localizations.localeOf()</code>:</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>Locale myLocale = Localizations.localeOf(context);</code></pre>

<p><a name="loading-and-retrieving"></a></p>
<h2 id="loading-and-retrieving-localized-values">Loading and retrieving localized values</h2>

<p>The Localizations widget is used to load and lookup objects that
contain collections of localized values. Apps refer to these objects with
<a href="https://docs.flutter.io/flutter/widgets/Localizations/of.html"><code class="highlighter-rouge">Localizations.of(context,type)</code></a>.
If the device’s locale changes, the Localizations widget automatically
loads values for the new locale and then rebuilds widgets that used it.
This happens because Localizations works like an
<a href="https://docs.flutter.io/flutter/widgets/InheritedWidget-class.html">InheritedWidget</a>.
When a build function refers to an inherited widget an implicit dependency
on the inherited widget is created. When an inherited widget changes
(when the Localizations widget’s locale changes), its dependent
contexts are rebuilt.</p>

<p>Localized values are loaded by the Localizations widget’s list of
<a href="https://docs.flutter.io/flutter/widgets/LocalizationsDelegate-class.html">LocalizationsDelegate</a>s.
Each delegate must define an async
<a href="https://docs.flutter.io/flutter/widgets/LocalizationsDelegate/load.html"><code class="highlighter-rouge">load()</code></a>
method that produces an object which encapsulates a collection of
localized values. Typically these objects define one method per localized value.</p>

<p>In a large app, different modules or packages might be bundled with
their own localizations. That’s why the Localizations widget manages a
table of objects, one per LocalizationsDelegate. To retrieve the
object produced by one of the LocalizationsDelegate’s <code class="highlighter-rouge">load</code> methods,
you specify a BuildContext and the object’s type.</p>

<p>For example, the localized strings for the Material Components widgets are defined by the
<a href="https://docs.flutter.io/flutter/material/MaterialLocalizations-class.html">MaterialLocalizations</a>
class. Instances of this class are created by a LocalizationDelegate
provided by the
<a href="https://docs.flutter.io/flutter/material/MaterialApp-class.html">MaterialApp</a>
class. They can be retrieved with <code class="highlighter-rouge">Localizations.of</code>:</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>Localizations.of&lt;MaterialLocalizations&gt;(context, MaterialLocalizations);</code></pre>

<p>This particular <code class="highlighter-rouge">Localizations.of()</code> expression is used frequently, so the
MaterialLocalizations class provides a convenient shorthand:</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>static MaterialLocalizations of(BuildContext context) {
  return Localizations.of&lt;MaterialLocalizations&gt;(context, MaterialLocalizations);
}

/// References to the localized values defined by MaterialLocalizations
/// are typically written like this:

tooltip: MaterialLocalizations.of(context).backButtonTooltip,</code></pre>

<p><a name="using-bundles"></a></p>
<h2 id="using-the-bundled-localizationsdelegates">Using the bundled LocalizationsDelegates</h2>

<p>To keep things as small and uncomplicated as possible, the flutter
package includes implementations of the MaterialLocalizations and
WidgetsLocalizations interfaces that only provide US English
values. These implementation classes are called
DefaultMaterialLocalizations and DefaultWidgetsLocalizations, respectively.
They’re included automatically unless a
different delegate of the same base type is specified with the app’s
<code class="highlighter-rouge">localizationsDelegates</code> parameter.</p>

<p>The flutter_localizations package includes multi-language
implementations of the localizations interfaces called GlobalMaterialLocalizations
and GlobalWidgetsLocalizations. International apps must specify
localization delegates for these classes as described in
<a href="#setting-up">Setting up an internationalized app.</a></p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>import &#39;package:flutter_localizations/flutter_localizations.dart&#39;;

new MaterialApp(
 localizationsDelegates: [
   // ... app-specific localization delegate[s] here
   GlobalMaterialLocalizations.delegate,
   GlobalWidgetsLocalizations.delegate,
 ],
 supportedLocales: [
    const Locale(&#39;en&#39;, &#39;US&#39;), // English
    const Locale(&#39;he&#39;, &#39;IL&#39;), // Hebrew
    // ... other locales the app supports
  ],
  // ...
)</code></pre>

<p>The global localization delegates construct locale-specific instances
of the corresponding classes. For example,
<code class="highlighter-rouge">GlobalMaterialLocalizations.delegate</code> is a LocalizationsDelegate
that produces an instance of GlobalMaterialLocalizations.</p>

<p>As of May 2018, the global localization classes support <a href="https://github.com/flutter/flutter/tree/master/packages/flutter_localizations/lib/src/l10n">about 24
languages.</a></p>

<p><a name="defining-class"></a></p>
<h2 id="defining-a-class-for-the-apps-localized-resources">Defining a class for the app’s localized resources</h2>

<p>Putting all of this together for an internationalized app usually
starts with the class that encapsulates the app’s localized
values. The example that follows is typical of such classes.</p>

<p><a href="https://github.com/flutter/website/tree/master/_includes/code/internationalization/intl/">Complete source code</a>
for this example app.</p>

<p>This example is based on the APIs and tools provided by the
<a href="https://pub.dartlang.org/packages/intl">intl</a> package. <a href="#alternative-class">An alternative class
for the app’s localized resources</a> describes
<a href="https://github.com/flutter/website/tree/master/_includes/code/internationalization/minimal/">an example</a>
that doesn’t depend on the intl package.</p>

<p>The DemoLocalizations class contains the app’s strings (just one for the example)
translated into the locales that the app supports. It uses the <code class="highlighter-rouge">initializeMessages()</code>
function generated by Dart’s <a href="https://pub.dartlang.org/packages/intl">intl package</a>
to load the translated strings, and
<a href="https://www.dartdocs.org/documentation/intl/0.15.1/intl/Intl/message.html"><code class="highlighter-rouge">Intl.message()</code></a>
to look them up.</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class DemoLocalizations {
  static Future&lt;DemoLocalizations&gt; load(Locale locale) {
    final String name = locale.countryCode.isEmpty ? locale.languageCode : locale.toString();
    final String localeName = Intl.canonicalizedLocale(name);
    return initializeMessages(localeName).then((Null _) {
      Intl.defaultLocale = localeName;
      return new DemoLocalizations();
    });
  }

  static DemoLocalizations of(BuildContext context) {
    return Localizations.of&lt;DemoLocalizations&gt;(context, DemoLocalizations);
  }

  String get title {
    return Intl.message(
      &#39;Hello World&#39;,
      name: &#39;title&#39;,
      desc: &#39;Title for the Demo application&#39;,
    );
  }
}</code></pre>

<p>A class based on the <code class="highlighter-rouge">intl</code> package imports a generated message catalog that provides
the <code class="highlighter-rouge">initializeMessages()</code> function and the per-locale backing store for <code class="highlighter-rouge">Intl.message()</code>.
The message catalog is produced by an <a href="#dart-tools"><code class="highlighter-rouge">intl</code> tool</a> that analyzes the
source code for classes that contain <code class="highlighter-rouge">Intl.message()</code> calls.
In this case that would just be the DemoLocalizations class.</p>

<p><a name="specifying-supportedlocales"></a></p>
<h2 id="specifying-the-apps-supportedlocales-parameter">Specifying the app’s supportedLocales parameter</h2>

<p>Although Flutter’s Material Components library includes support for about 16
languages, only English language translations are available by default.
It’s up to the developer to decide exactly which languages
to support, since it wouldn’t make sense for the toolkit
libraries to support a different set of locales than the app does.</p>

<p>The MaterialApp
<a href="https://docs.flutter.io/flutter/material/MaterialApp/supportedLocales.html"><code class="highlighter-rouge">supportedLocales</code></a>
parameter limits locale changes. When the user changes the locale
setting on their device, the app’s <code class="highlighter-rouge">Localizations</code> widget only
follows suit if the new locale is a member of the this list.
If an exact match for the device locale isn’t found, then the first
supported locale with a matching
<a href="https://docs.flutter.io/flutter/dart-ui/Locale/languageCode.html"><code class="highlighter-rouge">languageCode</code></a>
is used. If that fails, then the first element of the
<code class="highlighter-rouge">supportedLocales</code> list is used.</p>

<p>In terms of the previous DemoApp example, the app only accepts the
US English or French Canadian locales, and it substitutes US
English (the first locale in the list) for anything else.</p>

<p>An app that wants to use a different “locale resolution” method can provide a
<a href="https://docs.flutter.io/flutter/widgets/LocaleResolutionCallback.html"><code class="highlighter-rouge">localeResolutionCallback</code>.</a>
For example, to have your app unconditionally accept whatever locale the
user selects:</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class DemoApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return new MaterialApp(
       localeResolutionCallback(Locale locale, Iterable&lt;Locale&gt; supportedLocales) {
         return locale;
       }
       // ...
    );
  }
}</code></pre>

<p><a name="alternative-class"></a></p>
<h2 id="an-alternative-class-for-the-apps-localized-resources">An alternative class for the app’s localized resources</h2>

<p>The previous DemoApp example was defined in terms of the Dart <code class="highlighter-rouge">intl</code>
package. Developers can choose their own approach for managing
localized values for the sake of simplicity or perhaps to integrate
with a different i18n framework.</p>

<p><a href="https://github.com/flutter/website/tree/master/_includes/code/internationalization/minimal/">Complete source code</a>
for this example app.</p>

<p>In this version of DemoApp the class that contains the app’s
localizations, DemoLocalizations, includes all of its translations
directly in per language Maps.</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class DemoLocalizations {
  DemoLocalizations(this.locale);

  final Locale locale;

  static DemoLocalizations of(BuildContext context) {
    return Localizations.of&lt;DemoLocalizations&gt;(context, DemoLocalizations);
  }

  static Map&lt;String, Map&lt;String, String&gt;&gt; _localizedValues = {
    &#39;en&#39;: {
      &#39;title&#39;: &#39;Hello World&#39;,
    },
    &#39;es&#39;: {
      &#39;title&#39;: &#39;Hola Mundo&#39;,
    },
  };

  String get title {
    return _localizedValues[locale.languageCode][&#39;title&#39;];
  }
}</code></pre>

<p>In the minimal app the DemoLocalizationsDelegate is slightly
different. Its <code class="highlighter-rouge">load</code> method returns a
<a href="https://docs.flutter.io/flutter/foundation/SynchronousFuture-class.html">SynchronousFuture</a>
because no asynnchronous loading needs to take place.</p>

<pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class DemoLocalizationsDelegate extends LocalizationsDelegate&lt;DemoLocalizations&gt; {
  const DemoLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) =&gt; [&#39;en&#39;, &#39;es&#39;].contains(locale.languageCode);

  @override
  Future&lt;DemoLocalizations&gt; load(Locale locale) {
    return new SynchronousFuture&lt;DemoLocalizations&gt;(new DemoLocalizations(locale));
  }

  @override
  bool shouldReload(DemoLocalizationsDelegate old) =&gt; false;
}</code></pre>

<p><a name="dart-tools"></a></p>
<h2 id="appendix-using-the-dart-intl-tools">Appendix: Using the Dart intl tools</h2>

<p>Before building an API using the Dart
<a href="https://pub.dartlang.org/packages/intl"><code class="highlighter-rouge">intl</code></a> package
you’ll want to review the <code class="highlighter-rouge">intl</code> package’s documentation. Here’s a summary of the process
for localizing an app that depends on the <code class="highlighter-rouge">intl</code> package.</p>

<p>The demo app depends on a generated source file called <code class="highlighter-rouge">l10n/messages_all.dart</code>
which defines all of the localizable strings used by the app.</p>

<p>Rebuilding <code class="highlighter-rouge">l10n/messages_all.dart</code> requires two steps.</p>

<ol>
<li>
    <p>With the app’s root directory as the current directory, generate
<code class="highlighter-rouge">l10n/intl_messages.arb</code> from <code class="highlighter-rouge">lib/main.dart</code>:</p>

    <pre class="prettyprint highlighter-rouge highlight lang-sh language-sh"><code>$ flutter pub pub run intl_translation:extract_to_arb --output-dir=lib/i10n lib/main.dart</code></pre>

    <p>The <code class="highlighter-rouge">intl_messages.arb</code> file is a JSON format map with one entry for
each <code class="highlighter-rouge">Intl.message()</code> function defined in <code class="highlighter-rouge">main.dart</code>. This
file serves as a template for the English and Spanish translations,
<code class="highlighter-rouge">intl_en.arb</code> and <code class="highlighter-rouge">intl_es.arb</code>. These translations are created by you,
the developer.</p>
  </li>

<li>
    <p>With the app’s root directory as the current directory, generate
<code class="highlighter-rouge">intl_messages_&lt;locale&gt;.dart</code> for each <code class="highlighter-rouge">intl_&lt;locale&gt;.arb</code> file and
<code class="highlighter-rouge">intl_messages_all.dart</code>, which imports all of the messages files:</p>

    <pre class="prettyprint highlighter-rouge highlight lang-sh language-sh"><code>$ flutter pub pub run intl_translation:generate_from_arb --output-dir=lib/l10n \
   --no-use-deferred-loading lib/main.dart lib/l10n/intl_*.arb</code></pre>

    <p>The DemoLocalizations class uses the generated <code class="highlighter-rouge">initializeMessages()</code>
function (defined in <code class="highlighter-rouge">intl_messages_all.dart</code>) to load the localized messages
and <code class="highlighter-rouge">Intl.message()</code> to look them up.</p>
  </li>

</ol>


</article>

          </div>
        </div>

        

      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <div class="logo">
          <img src="/images/flutter-mark-square-100.png" alt="Flutter Logo" width="100" height="100">
        </div>
        <p class="site-footer__link-list">
          <a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a> &bull;
          <a href="https://twitter.com/flutterio">twitter</a> &bull;
          <a href="https://github.com/flutter/">github</a> &bull;
          <a href="/tos">terms</a> &bull;
          <a href="https://www.google.com/intl/en/policies/privacy/">privacy</a> &bull;
          <a href="https://github.com/orgs/flutter-dev/teams/flutter/">翻译组</a>
        </p>

        <p class="licenses">
          除非另有说明，否则本作品根据
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可证</a>进行许可，代码示例已根据 BSD 许可证进行许可。
        </p>
      </div>
    </div>
  </div>
</footer>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="/js/sidebar_toggle.js"></script>
    <script src="/js/customscripts.js"></script>
    <script src="/js/prism.js"></script>
    <script src="/js/tabs.js"></script>
    <script src="/js/archive.js"></script>
    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
