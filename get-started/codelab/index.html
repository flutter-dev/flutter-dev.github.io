<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Write Your First Flutter App  - Flutter </title>
  <link rel="shortcut icon" href="/images/favicon.png">

  <meta name="description" content="">
  <meta name="keywords" content=" ">

  <link rel="stylesheet" href="/css/lavish-bootstrap.css">
  <link rel="stylesheet" href="/css/main.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Extended" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro%7CRoboto:500,400italic,300,400" rel="stylesheet">
  
  <link rel="canonical" href="http://localhost:4000/get-started/codelab/">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67589403-1', 'auto');
    ga('send', 'pageview');
  </script>

  <meta name="google-site-verification" content="HFqxhSbf9YA_0rBglNLzDiWnrHiK_w4cqDh2YD2GEY4" />
</head>


  <body class="">

    <div id="overlay-under-drawer"><!-- for the drawer on narrow screens --></div>

    <header class="site-header">
  <div class="container-fluid header-contents">
    <div class="row">
      <div class="col-md-12">
        <i class="fa fa-bars" id="sidebar-toggle-button" aria-hidden="true" style="display:none"></i>
        <img src="/images/flutter-mark-square-100.png" alt="Flutter Logo" width="40" height="40" style="vertical-align:middle">

        <a class="site-title" href="/">Flutter</a>

        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <i class="material-icons-extended">more_vert</i>
          </a>
          <div class="trigger">
            <a class="page-link" href="/docs/">文档</a>
            <a class="page-link" href="https://github.com/flutter/flutter">GitHub</a>
            <a class="page-link" href="https://pub.dartlang.org/flutter">库</a>
            <a class="page-link" href="/support/">支持</a>
            <a class="page-link" href="http://flutter-dev.cn/bbs">论坛</a>
            <form action="/search/" class="nav-searchbox" id="cse-search-box" style="display: inline">
              <input type="hidden" name="cx" value="007067728241810524621:gm6vraqlc8c">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="hidden" name="hl" value="en">
              <input type="search" name="q" id="q" autocomplete="off" placeholder="搜索">
            </form>
          </div>
        </nav>
      </div>
    </div> <!-- /.row -->
  </div> <!-- /.container -->
</header>


    <!-- Page Content -->
    <div class="container-fluid contents">
      <!-- Content Row -->
      <div class="row">

        <!-- Sidebar Column -->
        <div id="side-nav-container" class="col-sm-3">
          <ul id="mysidebar" class="nav">

  <li class="sidebar-title">开始入门</li>

    <ul class="sidebar-items">
      <li><a href="/get-started/install/">1: 安装</a></li>
      <li><a href="/get-started/editor/">2: 配置编辑器</a></li>
      <li><a href="/get-started/test-drive/">3: 试运行</a></li>
      <li><a href="/get-started/codelab/">4: 编写第一个 Fluuter 应用</a></li>
      <li><a href="/get-started/learn-more/">5: 学习更多</a></li>
    </ul>

  <li class="sidebar-title">构建 UI</li>

    <ul class="sidebar-items">
      <li><a href="/widgets-intro/">框架预览</a></li>
      <li><a href="/widgets/">部件目录</a></li>
      <li><a href="/cookbook/">小案例</a></li>
      <li><a href="/catalog/samples/">应用示例目录</a></li>
      <li><a href="https://codelabs.developers.google.com/codelabs/flutter/index.html#0">构建漂亮的用户界面 - Codelab</a></li>
      <li><a href="/tutorials/layout/">构建布局 - 教程</a></li>
      <li><a href="/tutorials/interactive/">添加交互 - 教程</a></li>
      <li><a href="/web-analogs/">HTML/CSS 模式</a></li>
      <li><a href="/flutter-for-android/">Android 开发者参考</a></li>
      <li><a href="/flutter-for-react-native/">React Native 开发者参考</a></li>
      <li><a href="/gestures/">手势</a></li>
      <li><a href="/animations/">动画</a></li>
      <li><a href="/custom-fonts/">自定义字体</a></li>
      <li><a href="/layout/">框约束</a></li>
      <li><a href="/assets-and-images/">资源与图像</a></li>
      <li><a href="/text-input/">文本输入</a></li>
      <li><a href="/routing-and-navigation/">界面路由与导航</a></li>
      <li><a href="/tutorials/internationalization">国际化</a></li>
    </ul>

  <li class="sidebar-title">使用设备与 SDK 中的 API</li>

    <ul class="sidebar-items">
      <li><a href="/using-packages/">使用扩展包</a></li>
      <li><a href="/developing-packages/">开发扩展包</a></li>
      <li><a href="/platform-channels/">平台特定代码</a></li>
      <li><a href="/reading-writing-files/">文件的读写</a></li>
      <li><a href="/networking/">网络和 HTTP</a></li>
      <li><a href="/json/">JSON 和序列化</a></li>
      
    </ul>

  <li class="sidebar-title">开发与工具</li>

    <ul class="sidebar-items">
      <li><a href="/using-ide/">Flutter IDE 的使用</a></li>
      <li><a href="/hot-reload/">热重载的使用</a></li>
      <li><a href="/testing/">应用测试</a></li>
      <li><a href="/debugging/">应用调试</a></li>
      <li><a href="/inspector/">用户界面检查</a></li>
      <li><a href="/android-release/">编译正式版的 Android 应用</a></li>
      <li><a href="/ios-release/">编译正式版的 iOS 应用</a></li>
      <li><a href="/upgrading/">升级 Flutter</a></li>
      <li><a href="/formatting/"> 格式化代码</a></li>
    </ul>

  <li class="sidebar-title">更多细节</li>

    <ul class="sidebar-items">
      <li><a href="/faq/">FAQ</a></li>
      <li><a href="/technical-overview">技术一览</a></li>
      <li><a href="https://docs.google.com/presentation/d/1B3p0kP6NV_XMOimRV09Ms75ymIjU5gr6GGIX74Om_DE/edit?usp=sharing">神奇的 Flutter - 幻灯片</a></li>
      <li><a href="https://docs.google.com/presentation/d/1cw7A4HbvM_Abv320rVgPVGiUP2msVs7tfGbkgdrTy0I/edit?usp=sharing">架构图</a></li>
      <li><a href="https://www.bilibili.com/video/av14430321/">Flutter 框架层设计 <i class="fa fa-video-camera" aria-hidden="true"></i></a></li>
      <li><a href="https://www.bilibili.com/video/av6269773/">Flutter 的渲染管线 <i class="fa fa-video-camera" aria-hidden="true"></i></a></li>
    </ul>

</ul>

        </div>

        
        

        <!-- Content Column -->
        <div class="col-sm-9 main-contents">
          <div class="main-contents-body">
            <article class="post-content">
  
  
  <header class="post-header">
      <div class="btn-group contribute" role="group">
         <a href="https://github.com/flutter/website/blob/master/get-started/codelab/index.md" class="btn btn-sm">
            <i class="fa fa-pencil"></i> Edit Source
         </a>
         <a href="https://github.com/flutter/flutter/issues/new?title=Issue from website page Write Your First Flutter App&body=From URL: http://localhost:4000/get-started/codelab/index.md&labels=dev: docs - website" class="btn btn-sm">
            <i class="fa fa-github"></i> File Issue
        </a>
     </div>
   <div>
    <h1 class="post-title">Write Your First Flutter App </h1>
   </div>

  </header>
  

  

<figure class="right-figure" style="max-width: 260px; padding-right: 10px">
    <img src="images/startup-namer-app.gif" alt="Animated GIF of the app that you will be building." style="border: 10px solid #333; border-radius: 10px; margin-bottom: 10px" />
</figure>

<p>This is a guide to creating your first Flutter app. If you
are familiar with object-oriented code and basic programming
concepts such as variables, loops, and conditionals,
you can complete this tutorial. You don’t need
previous experience with Dart or mobile programming.</p>

<ul id="markdown-toc">
  <li><a href="#step-1-create-the-starting-flutter-app" id="markdown-toc-step-1-create-the-starting-flutter-app">Step 1: Create the starting Flutter app</a></li>
  <li><a href="#step-2-use-an-external-package" id="markdown-toc-step-2-use-an-external-package">Step 2: Use an external package</a></li>
  <li><a href="#step-3-add-a-stateful-widget" id="markdown-toc-step-3-add-a-stateful-widget">Step 3: Add a Stateful widget</a></li>
  <li><a href="#step-4-create-an-infinite-scrolling-listview" id="markdown-toc-step-4-create-an-infinite-scrolling-listview">Step 4: Create an infinite scrolling ListView</a></li>
  <li><a href="#step-5-add-interactivity" id="markdown-toc-step-5-add-interactivity">Step 5: Add interactivity</a></li>
  <li><a href="#step-6-navigate-to-a-new-screen" id="markdown-toc-step-6-navigate-to-a-new-screen">Step 6: Navigate to a new screen</a></li>
  <li><a href="#step-7-change-the-ui-using-themes" id="markdown-toc-step-7-change-the-ui-using-themes">Step 7: Change the UI using Themes</a></li>
  <li><a href="#well-done" id="markdown-toc-well-done">Well done!</a></li>
</ul>

<p class="h2-like">What you'll build</p>

<p>You’ll implement a simple mobile app that generates proposed names for a
startup company. The user can select and unselect names,
saving the best ones. The code generates ten names at a time.
As the user scrolls, new batches of names are generated.
The user can tap the list icon in the upper right of the app bar
to move to a new route that lists only the favorited names.</p>

<p>The animated GIF shows how the finished app works.</p>

<div class="whats-the-point">

  <p><b> <a id="whats-the-point" class="anchor" href="#whats-the-point" aria-hidden="true"><span class="octicon octicon-link"></span></a>What you’ll learn:</b></p>

  <ul>
    <li>Basic structure of a Flutter app.</li>
    <li>Finding and using packages to extend functionality.</li>
    <li>Using hot reload for a quicker development cycle.</li>
    <li>How to implement a stateful widget.</li>
    <li>How to create an infinite, lazily loaded list.</li>
    <li>How to create and navigate to a second screen.</li>
    <li>How to change the look of an app using Themes.</li>
  </ul>

</div>

<div class="whats-the-point">

  <p><b> <a id="whats-the-point" class="anchor" href="#whats-the-point" aria-hidden="true"><span class="octicon octicon-link"></span></a>What you’ll use:</b></p>

  <p>You’ll need to install the following:</p>

  <ul>
<li>
      <p>Flutter SDK<br />
    The Flutter SDK includes Flutter’s engine, framework, widgets, tools,
    and a Dart SDK. This codelab requires v0.1.4 or later.</p>
    </li>
<li>
      <p>Android Studio IDE<br />
    This codelab features the Android Studio IDE, but you can use
    another IDE, or work from the command line.</p>
    </li>
<li>
      <p>Plugin for your IDE<br />
    The Flutter and Dart plugins must be installed separately for your
    IDE. Besides Android Studio, Flutter and Dart plugins are also available
    for the <a href="https://code.visualstudio.com/download">VS Code</a> and
    <a href="https://www.jetbrains.com/idea/download/#section=mac">IntelliJ</a> IDEs.</p>
    </li>
</ul>

  <p>See <a href="/get-started/install/">Flutter Installation and Setup</a> for information on
how to set up your environment.</p>

</div>

<h1 id="step-1-create-the-starting-flutter-app">Step 1: Create the starting Flutter app</h1>

<p>Create a simple, templated Flutter app, using the instructions in
<a href="/get-started/test-drive/#create-app">Getting Started with your first Flutter app.</a>
Name the project <strong>startup_namer</strong> (instead of <em>myapp</em>).
You’ll be modifying this starter app to create the finished app.</p>

<p>In this codelab, you’ll mostly be editing <strong>lib/main.dart</strong>,
where the Dart code lives.</p>

<aside class="alert alert-success">
  <p><i class="fa fa-lightbulb-o"> </i> <strong>Tip:</strong>
When pasting code into your app, indentation can
become skewed. You can fix this automatically with the Flutter tools:</p>

  <ul>
    <li>Android Studio / IntelliJ IDEA: Right-click the dart code and
select <strong>Reformat Code with dartfmt</strong>.</li>
    <li>VS Code: Right-click and select <strong>Format Document</strong>.</li>
    <li>Terminal: Run <code class="highlighter-rouge">flutter format &lt;filename&gt;</code>.</li>
  </ul>
</aside>

<ol>

<li>
    <p>Replace lib/main.dart.<br />
    Delete all of the code from <strong>lib/main.dart</strong>.
    Replace with the following code, which displays “Hello World” in the center
    of the screen.</p>

    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>import &#39;package:flutter/material.dart&#39;;

void main() =&gt; runApp(new MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return new MaterialApp(
      title: &#39;Welcome to Flutter&#39;,
      home: new Scaffold(
        appBar: new AppBar(
          title: new Text(&#39;Welcome to Flutter&#39;),
        ),
        body: new Center(
          child: new Text(&#39;Hello World&#39;),
        ),
      ),
    );
  }
}</code></pre>
  </li>

<li>
    <p>Run the app. You should see the following screen.</p>

    <center><img src="images/hello-world-screenshot.png" alt="screenshot of hello world app" /></center>
  </li>
</ol>

<p class="h2-like">Observations</p>

<ul>
  <li>
    <p>This example creates a Material app.
      <a href="https://material.io/guidelines/">Material</a> is a visual design language
      that is standard on mobile and the web. Flutter offers a rich set
      of Material widgets.</p>
  </li>
  <li>
    <p>The main method specifies fat arrow (<code class="highlighter-rouge">=&gt;</code>) notation,
       which is short hand used for one-line functions or methods.</p>
  </li>
  <li>
    <p>The app extends StatelessWidget which makes the app itself a
       widget. In Flutter, most everything is a widget, including
       alignment, padding, and layout.</p>
  </li>
  <li>
    <p>The Scaffold widget, from the Material library,
       provides a default app bar, title, and a body property that
       holds the widget tree for the home screen. The widget subtree
       can be quite complex.</p>
  </li>
  <li>
    <p>A widget’s main job is to provide a <code class="highlighter-rouge">build()</code> method
      that describes how to display the widget in terms of other,
      lower level widgets.</p>
  </li>
  <li>
    <p>The widget tree for this example consists of a Center widget
       containing a Text child widget. The Center widget aligns its
       widget subtree to the center of the screen.</p>
  </li>
</ul>

<hr />

<h1 id="step-2-use-an-external-package">Step 2: Use an external package</h1>

<p>In this step, you’ll start using an open-source package named
<strong>english_words</strong>, which contains a few thousand of the most used
English words plus some utility functions.</p>

<p>You can find the
<a href="https://pub.dartlang.org/packages/english_words">english_words</a>
package, as well as many other open source packages, on
<a href="https://pub.dartlang.org/flutter/">pub.dartlang.org</a>.</p>

<ol>

<li>
    <p>The pubspec file manages the assets for a Flutter app.
    In <strong>pubspec.yaml</strong>, add <strong>english_words</strong> (3.1.0 or higher)
    to the dependencies list.
    The new line is highlighted below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>dependencies:
  flutter:
    sdk: flutter

  cupertino_icons: ^0.1.0
  <span class="nocode highlight">english_words: ^3.1.0</span></code></pre>
  </li>

<li>
    <p>While viewing the pubspec in Android Studio’s editor view,
    click <strong>Packages get</strong> upper right. This pulls the package into
    your project. You should see the following in the console:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>flutter packages get
Running &quot;flutter packages get&quot; in startup_namer...
Process finished with exit code 0</code></pre>
  </li>

<li>
    <p>In <strong>lib/main.dart</strong>, add the import for <code class="highlighter-rouge">english_words</code>,
    as shown in the highlighted line:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>import &#39;package:flutter/material.dart&#39;;
<span class="nocode highlight">import &#39;package:english_words/english_words.dart&#39;;</span></code></pre>

    <p>As you type, Android Studio gives you suggestions for libraries to
import. It then renders the import string in gray, letting you
know that the imported library is unused (so far).</p>
  </li>

<li>
    <p>Use the English words package to generate the text instead of
    using the string “Hello World”.</p>

    <aside class="alert alert-success">
      <p><i class="fa fa-lightbulb-o"> </i> <strong>Tip:</strong>
“Pascal case” (also known as “upper camel case”),
means that each word in the string, including the first one,
begins with an uppercase letter. So, “uppercamelcase” becomes
“UpperCamelCase”.</p>
    </aside>

    <p>Make the following changes, as highlighted below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>import &#39;package:flutter/material.dart&#39;;
import &#39;package:english_words/english_words.dart&#39;;

void main() =&gt; runApp(new MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    <span class="nocode highlight">final wordPair = new WordPair.random();</span>
    return new MaterialApp(
      title: &#39;Welcome to Flutter&#39;,
      home: new Scaffold(
        appBar: new AppBar(
          title: new Text(&#39;Welcome to Flutter&#39;),
        ),
        body: new Center(
          //child: new Text(<span class="nocode highlight">&#39;Hello World&#39;</span>), // Replace the highlighted text...
          child: new Text(<span class="nocode highlight">wordPair.asPascalCase</span>),  // With this highlighted text.
        ),
      ),
    );
  }
}</code></pre>
  </li>

<li>
    <p>If the app is running, use the hot reload button
    (<img src="images/hot-reload-button.png" alt="lightning bolt icon" />)
    to update the running app. Each time you click hot reload,
    or save the project, you should see a different word pair,
    chosen at random, in the running app.
    This is because the word pairing is generated inside the build
    method, which is run each time the MaterialApp requires rendering,
    or when toggling the Platform in Flutter Inspector.</p>

    <center><img src="images/step2-screenshot.png" alt="screenshot at completion of second step" /></center>
  </li>

</ol>

<p class="h2-like">Problems?</p>

<p>If your app isn’t running correctly, look for typos. If needed,
use the code at the following links to get back on track.</p>

<ul>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/bb51e3b7df4ebbf3dfd02a4a38db2655/raw/57c25b976ec34d56591cb898a3df0b320e903b99/pubspec.yaml"><strong>pubspec.yaml</strong></a>
(The <strong>pubspec.yaml</strong> file won’t change again.)</li>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/bb51e3b7df4ebbf3dfd02a4a38db2655/raw/57c25b976ec34d56591cb898a3df0b320e903b99/main.dart"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />

<h1 id="step-3-add-a-stateful-widget">Step 3: Add a Stateful widget</h1>

<p>State<em>less</em> widgets are immutable, meaning that their
properties can’t change—all values are final.</p>

<p>State<em>ful</em> widgets maintain state that might change
during the lifetime of the widget. Implementing a stateful
widget requires at least two classes: 1) a StatefulWidget class
that creates an instance of 2) a State class. The StatefulWidget
class is, itself, immutable, but the State class persists over the
lifetime of the widget.</p>

<p>In this step, you’ll add a stateful widget, RandomWords, which creates
its State class, RandomWordsState. The State class will eventually
maintain the proposed and favorite word pairs for the widget.</p>

<ol>
<li>
    <p>Add the stateful RandomWords widget to main.dart.
    It can go anywhere in the file, outside of MyApp, but the solution
    places it at the bottom of the file. The RandomWords widget does little
    else besides creating its State class:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWords extends StatefulWidget {
  @override
  createState() =&gt; new RandomWordsState();
}</code></pre>
  </li>

<li>
    <p>Add the RandomWordsState class. Most of the
    app’s code resides in this class, which maintains the state for the
    RandomWords widget. This class will save the generated word pairs,
    which grow infinitely as the user scrolls, and also favorite
    word pairs, as the user adds or removes them from the list by
    toggling the heart icon.</p>

    <p>You’ll build this class bit by bit. To begin, create a minimal
class by adding the highlighted text:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code><span class="nocode highlight">class RandomWordsState extends State&lt;RandomWords&gt; {</span>
<span class="nocode highlight">}</span></code></pre>
  </li>

<li>
    <p>After adding the state class, the IDE complains that
    the class is missing a build method. Next, you’ll add a basic
    build method that generates the word pairs by moving the
    word generation code from MyApp to RandomWordsState.</p>

    <p>Add the build method to RandomWordState, as shown
by the highlighted text:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  <span class="nocode highlight">@override</span>
  <span class="nocode highlight">Widget build(BuildContext context) {</span>
    <span class="nocode highlight">final wordPair = new WordPair.random();</span>
    <span class="nocode highlight">return new Text(wordPair.asPascalCase);</span>
  <span class="nocode highlight">}</span>
}</code></pre>
  </li>

<li>
    <p>Remove the word generation code from MyApp by making
    the highlighted changes below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    <span class="nocode strike">final wordPair = new WordPair.random();</span>  // Delete this line

    return new MaterialApp(
      title: &#39;Welcome to Flutter&#39;,
      home: new Scaffold(
        appBar: new AppBar(
          title: new Text(&#39;Welcome to Flutter&#39;),
       ),
        body: new Center(
          //child: new <span class="nocode highlight">Text(wordPair.asPascalCase),</span> // Change the highlighted text to...
          child: new <span class="nocode highlight">RandomWords(),</span> // ... this highlighted text
        ),
      ),
    );
  }
}</code></pre>
  </li>

</ol>

<p>Restart the app. If you try to hot reload, you might see a warning:</p>

<pre class="prettyprint highlighter-rouge highlight lang-sh language-sh"><code>Reloading...
Not all changed program elements ran during view reassembly; consider
restarting.</code></pre>

<p>It may be a false positive, but consider restarting in order to make sure
that your changes are reflected in the app’s UI.</p>

<p>The app should behave as before, displaying a word
pairing each time you hot reload or save the app.</p>

<center><img src="images/step3-screenshot.png" alt="screenshot at completion of third step" /></center>

<p class="h2-like">Problems?</p>

<p>If your app isn’t running correctly, you can use the code
at the following link to get back on track.</p>

<ul>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/d7f13ddd8888556232476be8578efe40/raw/329c397b97309ce99f834bf70ebb90778baa5cfe/main.dart"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />

<h1 id="step-4-create-an-infinite-scrolling-listview">Step 4: Create an infinite scrolling ListView</h1>

<p>In this step, you’ll expand RandomWordsState to generate
and display a list of word pairings. As the user scrolls, the list
displayed in a ListView widget, grows infinitely. ListView’s
<code class="highlighter-rouge">builder</code> factory constructor allows you to build a list view
lazily, on demand.</p>

<ol>

<li>
    <p>Add a <code class="highlighter-rouge">_suggestions</code> list to the RandomWordsState
class for saving suggested word pairings. The variable begins with
an underscore (<code class="highlighter-rouge">_</code>)—prefixing an identifier with an underscore enforces
privacy in the Dart language.</p>

    <p>Also, add a <code class="highlighter-rouge">biggerFont</code> variable for making the font size larger.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  <span class="nocode highlight">final _suggestions = &lt;WordPair&gt;[];</span>

  <span class="nocode highlight">final _biggerFont = const TextStyle(fontSize: 18.0);</span>
  ...
}</code></pre>
  </li>

<li>
    <p>Add a <code class="highlighter-rouge">_buildSuggestions()</code> function to the RandomWordsState
class. This method builds the ListView that displays the suggested word
pairing.</p>

    <p>The ListView class provides a builder property, <code class="highlighter-rouge">itemBuilder</code>,
a factory builder and callback function specified as an anonymous function.
Two parameters are passed to the function—the BuildContext,
and the row iterator, <code class="highlighter-rouge">i</code>. The iterator begins at 0 and increments
each time the function is called, once for every suggested word pairing.
This model allows the suggested list to grow infinitely as the user scrolls.</p>

    <p>Add the highlighted lines below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  ...
  <span class="nocode highlight">Widget _buildSuggestions() {</span>
    <span class="nocode highlight">return new ListView.builder(</span>
      <span class="nocode highlight">padding: const EdgeInsets.all(16.0),</span>
      // The itemBuilder callback is called once per suggested word pairing,
      // and places each suggestion into a ListTile row.
      // For even rows, the function adds a ListTile row for the word pairing.
      // For odd rows, the function adds a Divider widget to visually
      // separate the entries. Note that the divider may be difficult
      // to see on smaller devices.
      <span class="nocode highlight">itemBuilder: (context, i) {</span>
        // Add a one-pixel-high divider widget before each row in theListView.
        <span class="nocode highlight">if (i.isOdd) return new Divider();</span>

        // The syntax &quot;i ~/ 2&quot; divides i by 2 and returns an integer result.
        // For example: 1, 2, 3, 4, 5 becomes 0, 1, 1, 2, 2.
        // This calculates the actual number of word pairings in the ListView,
        // minus the divider widgets.
        <span class="nocode highlight">final index = i ~/ 2;</span>
        // If you&#39;ve reached the end of the available word pairings...
        <span class="nocode highlight">if (index &gt;= _suggestions.length) {</span>
          // ...then generate 10 more and add them to the suggestions list.
          <span class="nocode highlight">_suggestions.addAll(generateWordPairs().take(10));</span>
        <span class="nocode highlight">}</span>
        <span class="nocode highlight">return _buildRow(_suggestions[index]);</span>
      <span class="nocode highlight">}</span>
    <span class="nocode highlight">);</span>
  <span class="nocode highlight">}</span>
}</code></pre>
  </li>

<li>
    <p>The <code class="highlighter-rouge">_buildSuggestions</code> function calls <code class="highlighter-rouge">_buildRow</code> once per
word pair. This function displays each new pair in a ListTile,
which allows you to make the rows more attractive in the next step.</p>

    <p>Add a <code class="highlighter-rouge">_buildRow</code> function to RandomWordsState:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  ...

  <span class="nocode highlight">Widget _buildRow(WordPair pair) {</span>
    <span class="nocode highlight">return new ListTile(</span>
      <span class="nocode highlight">title: new Text(</span>
        <span class="nocode highlight">pair.asPascalCase,</span>
        <span class="nocode highlight">style: _biggerFont,</span>
      <span class="nocode highlight">),</span>
    <span class="nocode highlight">);</span>
  <span class="nocode highlight">}</span>
}</code></pre>
  </li>

<li>
    <p>Update the build method for RandomWordsState to use
<code class="highlighter-rouge">_buildSuggestions()</code>, rather than directly calling the word
generation library. Make the highlighted changes:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  ...
  @override
  Widget build(BuildContext context) {
    <span class="nocode strike">final wordPair = new WordPair.random();</span> // Delete these two lines.
    <span class="nocode strike">Return new Text(wordPair.asPascalCase);</span>
    <span class="nocode highlight">return new Scaffold (</span>
      <span class="nocode highlight">appBar: new AppBar(</span>
        <span class="nocode highlight">title: new Text(&#39;Startup Name Generator&#39;),</span>
      <span class="nocode highlight">),</span>
    <span class="nocode highlight">body: _buildSuggestions(),</span>
    <span class="nocode highlight">);</span>
  }
  ...
}</code></pre>
  </li>

<li>
    <p>Update the build method for MyApp.
    Remove the Scaffold and AppBar instances from MyApp.
    These will be managed by RandomWordsState, which makes it easier to
    change the name of the route in the app bar as the user
    navigates from one screen to another in the next step.</p>

    <p>Replace the original method with the highlighted build method below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class MyApp extends StatelessWidget {
  @override
  <span class="nocode highlight">Widget build(BuildContext context) {</span>
    <span class="nocode highlight">return new MaterialApp(</span>
      <span class="nocode highlight">title: &#39;Startup Name Generator&#39;,</span>
      <span class="nocode highlight">home: new RandomWords(),</span>
    <span class="nocode highlight">);</span>
  <span class="nocode highlight">}</span>
}</code></pre>
  </li>

</ol>

<p>Restart the app. You should see a list of word pairings. Scroll down
as far as you want and you will continue to see new word pairings.</p>

<center><img src="images/step4-screenshot.png" alt="screenshot at completion of fourth step" /></center>

<p class="h2-like">Problems?</p>

<p>If your app isn’t running correctly, you can use the code
at the following link to get back on track.</p>

<ul>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/d6f9460a04d3a429eb6ac0b0f07da564/raw/34fe240f4122435c871bb737708ee0357741801c/main.dart"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />

<h1 id="step-5-add-interactivity">Step 5: Add interactivity</h1>

<p>In this step, you’ll add tappable heart icons to each row.
When the user taps an entry in the list, toggling its
“favorited” state, that word pairing is added or removed from a
set of saved favorites.</p>

<ol>
<li>
    <p>Add a <code class="highlighter-rouge">_saved</code> Set to RandomWordsState. This Set stores
    the word pairings that the user favorited. Set is preferred to List
    because a properly implemented Set doesn’t allow duplicate entries.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  final _suggestions = &lt;WordPair&gt;[];

  <span class="nocode highlight">final _saved = new Set&lt;WordPair&gt;();</span>

  final _biggerFont = const TextStyle(fontSize: 18.0);
  ...
}</code></pre>
  </li>

<li>
    <p>In the <code class="highlighter-rouge">_buildRow</code> function, add an <code class="highlighter-rouge">alreadySaved</code>
    check to ensure that a word pairing hasn’t already been added to
    favorites.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>Widget _buildRow(WordPair pair) {
  <span class="nocode highlight">final alreadySaved = _saved.contains(pair);</span>
  ...
}</code></pre>
  </li>

<li>
    <p>Also in <code class="highlighter-rouge">_buildRow()</code>, add heart-shaped icons to the
    ListTiles to enable favoriting. Later, you’ll add the ability to
    interact with the heart icons.</p>

    <p>Add the highlighted lines below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>Widget _buildRow(WordPair pair) {
  final alreadySaved = _saved.contains(pair);
  return new ListTile(
    title: new Text(
      pair.asPascalCase,
      style: _biggerFont,
    ),
    <span class="nocode highlight">trailing: new Icon(</span>
      <span class="nocode highlight">alreadySaved ? Icons.favorite : Icons.favorite_border,</span>
      <span class="nocode highlight">color: alreadySaved ? Colors.red : null,</span>
    <span class="nocode highlight">),</span>
  );
}</code></pre>
  </li>

<li>
    <p>Restart the app. You should now see open hearts on
    each row, but they aren’t yet interactive.</p>
  </li>

<li>
    <p>Make the hearts tappable in the <code class="highlighter-rouge">_buildRow</code>
    function. If a word entry has already been added to favorites,
    tapping it again removes it from favorites.
    When the heart has been tapped, the function calls
    <code class="highlighter-rouge">setState()</code> to notify the framework that state has changed.</p>

    <p>Add the highlighted lines:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>Widget _buildRow(WordPair pair) {
  final alreadySaved = _saved.contains(pair);
  return new ListTile(
    title: new Text(
      pair.asPascalCase,
      style: _biggerFont,
    ),
    trailing: new Icon(
      alreadySaved ? Icons.favorite : Icons.favorite_border,
      color: alreadySaved ? Colors.red : null,
    ),
    <span class="nocode highlight">onTap: () {</span>
      <span class="nocode highlight">setState(() {</span>
        <span class="nocode highlight">if (alreadySaved) {</span>
          <span class="nocode highlight">_saved.remove(pair);</span>
        <span class="nocode highlight">} else {</span>
          <span class="nocode highlight">_saved.add(pair);</span>
        <span class="nocode highlight">}</span>
      <span class="nocode highlight">});</span>
    <span class="nocode highlight">},</span>
  );
}</code></pre>
  </li>
</ol>

<aside class="alert alert-success">
  <p><i class="fa fa-lightbulb-o"> </i> <strong>Tip:</strong>
In Flutter’s react style framework, calling <code class="highlighter-rouge">setState()</code> triggers
a call to the <code class="highlighter-rouge">build()</code> method for the State object, resulting in
an update to the UI.</p>
</aside>

<p>Hot reload the app. You should be able to tap any row to favorite, or unfavorite,
the entry. Note that tapping a row generates an implicit ink splash animation
that emanates from the heart icon.</p>

<center><img src="images/step5-screenshot.png" alt="screenshot at completion of 5th step" /></center>

<p class="h2-like">Problems?</p>

<p>If your app isn’t running correctly, you can use the code
at the following link to get back on track.</p>

<ul>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/936ce0059029a8c6e88aaa826a3789cd/raw/a3065d5c681a81eff32f75a9cd5f4d9a5b24f9ff/main.dart"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />

<h1 id="step-6-navigate-to-a-new-screen">Step 6: Navigate to a new screen</h1>

<p>In this step, you’ll add a new screen (called a <em>route</em> in Flutter) that
displays the favorites. You’ll learn how to navigate between the home route
and the new route.</p>

<p>In Flutter, the Navigator manages a stack containing the app’s routes.
Pushing a route onto the Navigator’s stack, updates the display to that route.
Popping a route from the Navigator’s stack, returns the display to the previous
route.</p>

<ol>
<li>
    <p>Add a list icon to the AppBar in the build method
    for RandomWordsState.  When the user clicks the list icon, a new
    route that contains the favorites items is pushed to the Navigator,
    displaying the icon.</p>

    <aside class="alert alert-success">
      <p><i class="fa fa-lightbulb-o"> </i> <strong>Tip:</strong>
Some widget properties take a single widget (<code class="highlighter-rouge">child</code>), and other properties,
such as <code class="highlighter-rouge">action</code>, take an array of widgets (<code class="highlighter-rouge">children</code>),
as indicated by the square brackets (<code class="highlighter-rouge">[]</code>).</p>
    </aside>

    <p>Add the icon and its corresponding action to the build method:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  ...
  @override
  Widget build(BuildContext context) {
    return new Scaffold(
      appBar: new AppBar(
        title: new Text(&#39;Startup Name Generator&#39;),
        <span class="nocode highlight">actions: &lt;Widget&gt;[</span>
          <span class="nocode highlight">new IconButton(icon: new Icon(Icons.list), onPressed: _pushSaved),</span>
        <span class="nocode highlight">],</span>
      ),
      body: _buildSuggestions(),
    );
  }
  ...
}</code></pre>
  </li>

<li>
    <p>Add a <code class="highlighter-rouge">_pushSaved()</code> function to the RandomWordsState class.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class RandomWordsState extends State&lt;RandomWords&gt; {
  ...
  <span class="nocode highlight">void _pushSaved() {</span>
  <span class="nocode highlight">}</span>
}</code></pre>

    <p>Hot reload the app. The list icon appears in the app bar.
Tapping it does nothing yet, because the <code class="highlighter-rouge">_pushSaved</code> function is empty.</p>
  </li>

<li>
    <p>When the user taps the list icon in the app bar,
    build a route and push it to the Navigator’s stack.
    This action changes the screen to display the new route.</p>

    <p>The content for the new page is built in MaterialPageRoute’s <code class="highlighter-rouge">builder</code>
property, in an anonymous function.</p>

    <p>Add the call to Navigator.push, as shown by the highlighted code,
which pushes the route to the Navigator’s stack.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code><span class="nocode highlight">void _pushSaved() {</span>
  <span class="nocode highlight">Navigator.of(context).push(</span>
  <span class="nocode highlight">);</span>
<span class="nocode highlight">}</span></code></pre>
  </li>

<li>
    <p>Add the MaterialPageRoute and its builder. For now,
    add the code that generates the ListTile rows. The <code class="highlighter-rouge">divideTiles()</code>
    method of ListTile adds horizontal spacing between each ListTile.
    The <code class="highlighter-rouge">divided</code> variable holds the final rows, converted to a list
    by the convienice function, <code class="highlighter-rouge">toList()</code>.</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>void _pushSaved() {
  Navigator.of(context).push(
    <span class="nocode highlight">new MaterialPageRoute(</span>
      <span class="nocode highlight">builder: (context) {</span>
        <span class="nocode highlight">final tiles = _saved.map(</span>
              <span class="nocode highlight">(pair) {</span>
            <span class="nocode highlight">return new ListTile(</span>
              <span class="nocode highlight">title: new Text(</span>
                <span class="nocode highlight">pair.asPascalCase,</span>
                <span class="nocode highlight">style: _biggerFont,</span>
              <span class="nocode highlight">),</span>
            <span class="nocode highlight">);</span>
          <span class="nocode highlight">},</span>
        <span class="nocode highlight">);</span>
        <span class="nocode highlight">final divided = ListTile</span>
            <span class="nocode highlight">.divideTiles(</span>
          <span class="nocode highlight">context: context,</span>
          <span class="nocode highlight">tiles: tiles,</span>
        <span class="nocode highlight">)</span>
            <span class="nocode highlight">.toList();</span>
      <span class="nocode highlight">},</span>
    <span class="nocode highlight">),</span>
  );
}</code></pre>
  </li>

<li>
    <p>The builder property returns a Scaffold,
    containing the app bar for the new route, named
    “Saved Suggestions.” The body of the new route
    consists of a ListView containing the ListTiles rows;
    each row is separated by a divider.</p>

    <p>Add the highlisted code below:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>void _pushSaved() {
  Navigator.of(context).push(
    new MaterialPageRoute(
      builder: (context) {
        final tiles = _saved.map(
              (pair) {
            return new ListTile(
              title: new Text(
                pair.asPascalCase,
                style: _biggerFont,
              ),
            );
          },
        );
        final divided = ListTile
            .divideTiles(
          context: context,
          tiles: tiles,
        )
            .toList();

        <span class="nocode highlight">return new Scaffold(</span>
          <span class="nocode highlight">appBar: new AppBar(</span>
            <span class="nocode highlight">title: new Text(&#39;Saved Suggestions&#39;),</span>
          <span class="nocode highlight">),</span>
          <span class="nocode highlight">body: new ListView(children: divided),</span>
        <span class="nocode highlight">);</span>
      },
    ),
  );
}</code></pre>
  </li>

<li>
    <p>Hot reload the app. Favorite some of the selections and
    tap the list icon in the app bar. The new route appears containing
    the favorites. Note that the Navigator adds a “Back” button to the
    app bar. You didn’t have to explicitly implement Navigator.pop.
    Tap the back button to return to the home route.</p>
  </li>
</ol>

<center><img src="images/step6a-screenshot.png" alt="screenshot at completion of 6th step" /><img src="images/step6b-screenshot.png" alt="second route" /></center>

<p class="h2-like">Problems?</p>

<p>If your app isn’t running correctly, you can use the code
at the following link to get back on track.</p>

<ul>
  <li><a href="https://gist.github.com/Sfshaza/bc5547e112e4dc3a1aa87afdf917caeb"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />
<h1 id="step-7-change-the-ui-using-themes">Step 7: Change the UI using Themes</h1>

<p>In this final step, you’ll play with the app’s theme. The
<em>theme</em> controls the look and feel of your app. You can use
the default theme, which is dependent on the physical device
or emulator, or you can customize the theme to reflect your branding.</p>

<ol>
<li>
    <p>You can easily change an app’s theme by configuring
    the ThemeData class.  Your app currently uses the default theme,
    but you’ll be changing the primary color to be white.</p>

    <p>Change the app’s theme to white by adding the highlighted code to MyApp:</p>

    <!-- skip -->
    <pre class="prettyprint highlighter-rouge highlight lang-dart language-dart"><code>class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return new MaterialApp(
      title: &#39;Startup Name Generator&#39;,
      <span class="nocode highlight">theme: new ThemeData(</span>
        <span class="nocode highlight">primaryColor: Colors.white,</span>
      <span class="nocode highlight">),</span>
      home: new RandomWords(),
    );
  }
}</code></pre>
  </li>

<li>
    <p>Hot reload the app. Notice that the entire background is white,
even the app bar.</p>
  </li>

<li>
    <p>As an exercise for the reader, use
<a href="https://docs.flutter.io/flutter/material/ThemeData-class.html">ThemeData</a>
to change other aspects of the  UI. The
<a href="https://docs.flutter.io/flutter/material/Colors-class.html">Colors</a>
class in the Material library provides many color constants you can play with,
and hot reload makes experimenting with the UI quick and easy.</p>
  </li>
</ol>

<center><img src="images/step7-themes.png" alt="screenshot at completion of 7th step" /></center>

<p class="h2-like">Problems?</p>

<p>If you’ve gotten off track, use the code from the following link
to see the code for the final app.</p>

<ul>
  <li><a href="https://gist.githubusercontent.com/Sfshaza/c07c91a4061fce4b5eacaaf4d82e4993/raw/4001a72c0133b97c8e16bdeb3195ca03525696bd/main.dart"><strong>lib/main.dart</strong></a></li>
</ul>

<hr />

<h1 id="well-done">Well done!</h1>

<p>You’ve written an interactive Flutter app that runs on both iOS and Android.
In this codelab, you’ve:</p>

<ul>
  <li>Created a Flutter app from the ground up.</li>
  <li>Written Dart code.</li>
  <li>Leveraged an external, third party library.</li>
  <li>Used hot reload for a faster development cycle.</li>
  <li>Implemented a stateful widget, adding interactivity to your app.</li>
  <li>Created a lazily loaded, infinite scrolling list displayed with a
ListView and ListTiles.</li>
  <li>Created a route and added logic for moving between the home route
and the new route.</li>
  <li>Learned about changing the look of your app’s UI using Themes.</li>
</ul>

<p class="h2-like">Next step</p>

<p><a href="/get-started/learn-more/">Next step: Learn More</a></p>


</article>

          </div>
        </div>

        

      </div> <!-- /.row -->
    </div> <!-- /.container -->

    <footer class="site-footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <div class="logo">
          <img src="/images/flutter-mark-square-100.png" alt="Flutter Logo" width="100" height="100">
        </div>
        <p class="site-footer__link-list">
          <a href="https://groups.google.com/forum/#!forum/flutter-dev">flutter-dev@</a> &bull;
          <a href="https://twitter.com/flutterio">twitter</a> &bull;
          <a href="https://github.com/flutter/">github</a> &bull;
          <a href="/tos">terms</a> &bull;
          <a href="https://www.google.com/intl/en/policies/privacy/">privacy</a> &bull;
          <a href="https://github.com/orgs/flutter-dev/teams/flutter/">翻译组</a>
        </p>

        <p class="licenses">
          除非另有说明，否则本作品根据
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可证</a>进行许可，代码示例已根据 BSD 许可证进行许可。
        </p>
      </div>
    </div>
  </div>
</footer>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="/js/sidebar_toggle.js"></script>
    <script src="/js/customscripts.js"></script>
    <script src="/js/prism.js"></script>
    <script src="/js/tabs.js"></script>
    
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=at3ul57xpub2vk3oxt2ytw365i"></script>
  </body>
</html>
